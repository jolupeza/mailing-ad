var j=jQuery.noConflict();(function(a){j(document).on("ready",function(){j("#datetimepicker-add").datetimepicker({pickTime:false});j("#datetimepicker-edit").datetimepicker({defaultDate:moment(j("#datetimepicker-edit").data("datetime"))});
j(".content").load(_root_+"admin/subscribers/displayAjax");j(document).on({mouseenter:function(){j(this).find(".opt-post").show();},mouseleave:function(){j(this).find(".opt-post").hide();
}},".view-option-post");j(document).on("click",".pagination-digg li a",function(c){c.preventDefault();var b=j(this).attr("href");j(".content").load(b);
});j(document).on("click",".link-ajax",function(c){c.preventDefault();var b=j(this).attr("href");j(".content").load(b);});j(document).on("click","#goto-btn",function(f){f.preventDefault();
var e=parseInt(j(".goto").val());var b=parseInt(j(this).data("maxpage"));if(e>0&&e<=b){var d=j(this).data("href");var c=(e-1)*parseInt(j(this).data("limit"));
j(".content").load(d+c);}else{j(".goto").val("1");jAlert("Debe seleccionar un número entre 1 y "+b,"Aviso");return false;}});j(document).on("click","#search-btn",function(d){d.preventDefault();
var b=j(this).data("href");var c=j(this).parent().prev().val();j(".content").load(b+encodeURI(c));});j("body").on("change","#num-reg",function(d){var e=j(this).val();
var b=j(this).data("href");var c=b.split("/");spinner.spin(target);if(e=="all"){href_new=_root_+c[4]+"/"+c[5]+"/"+c[6]+"/"+c[7]+"/"+c[8]+"/"+c[9]+"/"+c[10]+"/"+0+"/"+c[12];
}else{href_new=_root_+c[4]+"/"+c[5]+"/"+c[6]+"/"+c[7]+"/"+c[8]+"/"+c[9]+"/"+c[10]+"/"+e+"/"+c[12];}spinner.stop();j(".content").load(href_new);});j("[name='status']").bootstrapSwitch({size:"small",onColor:"success",radioAllOff:true});
j("body").on("change",'select[name="lists"]',function(){var c=j(this).data("href");var d=j(this).data("search");var b=j(this).data("limit");j(".content").load(c+j(this).val()+"/"+b+"/"+d);
});j("body").on("click","#subs_all",function(){if(this.checked){j(".chk_subs").each(function(){this.checked=true;});}else{j(".chk_subs").each(function(){this.checked=false;
});}});j("body").on("click","#btn-edit-all",function(c){c.preventDefault();var b=j(this).data("href");spinner.spin(target);j(".chk_subs").each(function(e,f){if(this.checked){var d=j(this).data("status");
d=(d=="1")?0:1;j.post(_root_+"admin/subscribers/action",{id:j(this).val(),status:d},function(g){});}});spinner.stop();j(".content").load(b);});j("body").on("click","#btn-delete-all",function(c){c.preventDefault();
var b=j(this).data("href");spinner.spin(target);jConfirm("Seguro que deseas eliminar los registros seleccionados","Confirmar eliminación",function(d){if(d){j(".chk_comercio").each(function(e,f){if(this.checked){j.post(_root_+"admin/subscribers/delete",{id:j(this).val()},function(g){if(g){}});
}});j(".content").load(b);}else{return;}});spinner.stop();});j("body").on("click",".ico-action",function(d){d.preventDefault();var b=j(this).data("status");
var e=j(this).data("id");var c=j(this).data("return");spinner.spin(target);j.post(_root_+"admin/subscribers/action",{status:b,id:e},function(f){spinner.stop();
if(f){j(".content").load(_root_+c);}});});j("body").on("click",".ico-status",function(c){c.preventDefault();var b=j(this).data("status");b=(b=="1")?0:1;
var d=j(this).data("id");spinner.spin(target);j.post(_root_+"admin/subscribers/action",{id:d,status:b},function(e){spinner.stop();if(e){j(".content").load(_root_+"admin/subscribers/displayAjax");
}});});j("body").on("click",".ico-del",function(b){b.preventDefault();var c=j(this).data("id");spinner.spin(target);jConfirm("¿Desea eliminar este registro?","¡Eliminación!",function(d){if(d){j.post(_root_+"admin/subscribers/delete",{id:c},function(e){spinner.stop();
if(e){j(".content").load(_root_+"admin/subscribers/displayAjax");jAlert("¡Se eliminó correctamente la suscripción!","Aviso");}else{jAlert("¡No se pudo eliminar la suscripción. Por favor vuelva a intentarlo!","Aviso");
}});}else{spinner.stop();}});});});})(jQuery);